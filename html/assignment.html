<%inherit file="base.html"/>

<%def name="head()">
<script type="text/javascript">

$(document).ready(function () {
  // First, get assignment configuration from network
  var headings = ["id","name","login","files"];
  $.getJSON("${ROOT_URL}/assignment/${COURSE}/${ASSIGNMENT}",function(config) {
    var tasks = config["tasks"];
    headings = headings.concat(tasks);
    var selector = document.getElementById("taskSelector");
    for(var i = 0; i < tasks.length;++i) {
        var option = document.createElement("option");
	option.text = tasks[i];
        selector.add(option);
    }
  });

  // Second, get submission information from network and populate display table
  var table = document.getElementById("submissions");
  $.getJSON("${ROOT_URL}/submissions/${COURSE}/${ASSIGNMENT}",function(submissions) {
    populateTable(table,submissions,headings);
  });
  
  // Mark the tabs appropriately
  $("#tabs").tabs();
});

function runTask() {
 var selector = document.getElementById("taskSelector");
 var selected = selector.options[selector.selectedIndex];
 alert("Run Task " + selected.text);
}

</script>
</%def>

<%def name="menu()">
<ul class="menubar">
  <li><a href="#">Course</a>
    <ul>
      <li><a href="#">New...</a>
      <ul>
	<li><a href="#">Assignment</a></li>
	<li><a href="#">Tutors</a></li>
	<li><a href="#">Students</a></li>			
      </ul>
      </li>
      <li><hr/></li>
      <li><a href="#">Configure...</a>
      <ul>
	<li><a href="#">Staff</a></li>	
	<li><a href="#">Tutors</a></li>
	<li><a href="#">Students</a></li>
        <li><hr/></li>	
	<li><a href="#">Assignments</a></li>	
      </ul>
      </li>
      <li><hr/></li>
      <li><a href="#">Import...</a></li>             
      <li><a href="#">Export...</a></li>
    </ul>
  </li>
  <li><a href="#">Assignment</a>
    <ul>
      <li><a href="#">Summary</a></li>      
      <li><a href="#">Grades</a></li>
      <li><a href="#">Marks</a></li>
      <li><a href="#">Submissions</a></li>            
      <li><hr/></li>            
      <li><a href="#">Configure...</a>
      <ul>
	<li><a href="#">Grading</a></li>
	<li><a href="#">Marksheets</a></li>
	<li><a href="#">Markers</a></li>			
	<li><a href="#">Tasks</a></li>	
      </ul>
      </li>
      <li><a href="#">Export...</a>
      <ul>
	<li><a href="#">Grades</a></li>
	<li><a href="#">Raw Marks</a></li>	
      </ul>      
      </li>
      <li><hr/></li>
      <li><a href="#">Email...</a>
      <ul>
	<li><a href="#">All Students</a></li>	
	<li><a href="#">Selected Students</a></li>
	<li><a href="#">All Tutors</a></li>	
      </ul>      
      </li>      
      <li><a href="#">Reports...</a>
      <ul>
	<li><a href="#">Build Reports</a></li>	
	<li><a href="#">Email Selected</a></li>
	<li><a href="#">Email All</a></li>	
      </ul>      
      </li>      
    </ul>
  </li>
</ul>
</%def>

<%def name="location()">
${COURSE} / ${ASSIGNMENT}
</%def>

<%def name="body()">

<center>
<table class="data" id="submissions">
</table>
</center>
</div>

</%def>
