<%inherit file="base.html"/>

<%def name="head()">
<script type="text/javascript">

$(document).ready(function () {
  // First, get assignment configuration from network
  var headings = ["id","name","login","files"];
  $.getJSON("${ROOT_URL}/assignment/${COURSE}/${ASSIGNMENT}",function(config) {
    var tasks = config["tasks"];
    headings = headings.concat(tasks);
    var selector = document.getElementById("taskSelector");
    for(var i = 0; i < tasks.length;++i) {
        var option = document.createElement("option");
	option.text = tasks[i];
        selector.add(option);
    }
  });

  // Second, get submission information from network and populate display table
  var table = document.getElementById("submissions");
  $.getJSON("${ROOT_URL}/submissions/${COURSE}/${ASSIGNMENT}",function(submissions) {
    populateTable(table,submissions,headings);
  });
  
  // Mark the tabs appropriately
  $("#tabs").tabs();
});

function runTask() {
 var selector = document.getElementById("taskSelector");
 var selected = selector.options[selector.selectedIndex];
 alert("Run Task " + selected.text);
}

</script>
</%def>

<%def name="menu()">
<ul class="menubar">
  <li><a href="#">Course</a>
    <ul>
      <li><a href="#">Configure</a></li>
      <li><a href="#">Create ...</a>
	<ul>
	  <li><a href="#">Assignment</a></li>	
	</ul>
      </li>
      <li><a href="#">Export</a></li>
      <li><a href="#">Import</a></li>       
    </ul>
  </li>
  <li><a href="#">Assignment</a>
    <ul>
      <li><a href="#">Add Marksheet</a></li>
      <li><a href="#">Add Task</a></li>
      <li><a href="#">Remove Task</a></li>
    </ul>
  </li>
  <li><a href="#">Tasks</a>
    <ul>
      <li><a href="#">Compile</a></li>
      <li><a href="#">Part 1</a></li>
    </ul>
  </li>
  <li><a href="#">Notify</a>
    <ul>
      <li><a href="#">Students</a></li>
      <li><a href="#">Selected students</a></li>
      <li><a href="#">Tutors</a></li>
      <li><a href="#">Build Reports</a></li>
      <li><a href="#">Email Reports</a></li>
    </ul>
  </li>
</ul>
</%def>

<%def name="location()">
${COURSE} / ${ASSIGNMENT}
</%def>

<%def name="body()">

<div id="tabs">
  <ul>
    <li><a href="#tabs-summary">Summary</a></li>
    <li><a href="#tabs-grades">Grades</a></li>
    <li><a href="#tabs-marks">Marks</a></li>    
  </ul>

  <div id="tabs-summary">
  </div>
  
  <div id="tabs-grades">
  </div>
  
  <div id="tabs-marks">
    <center>
      <table class="data" id="submissions">
      </table>
    </center>
  </div>
</div>

</%def>
